{# src/Zeega/EditorBundle/Resources/views/Editor/index.html.twig #}

{% extends '::base.html.twig' %}

{% block title %}Zeega Alpha{% endblock %}
{% block headerfix %} {% endblock %}
{% block body %}
 
			<input id="route-id" type="hidden" value="{{route.id}}"/>
			<input id="project-id" type="hidden" value="{{projectid}}"/>
		
		
			<div id="route-header" class='clearfix'>
				<div id='route-title'>{{projecttitle}}</div>
				<div id='route-publish'>
					
					<ul>
						
						<li>
							<ul class='pill-buttons'>
								<li><a id='share-project' href='#'>Share</a></li>
								<!--
								<li><a id='embed' href='http://www.getjavascript.com' onclick='embedButton();return false;'>Export</a></li>
								-->
								<li><a id='preview' href='#' onclick='Zeega.previewRoute();return false;'>Preview</a></li>
							</ul>
						</li>
						
						<li>
							<div id='upper-select'>
							<select name="ratio" id="workspace-ratio">
								<option value="1">wide</option>
								<option value="2">4:3</option>
							</select>
							</div>
						</li>
						
						
					</ul>
				</div>
			</div>

			<a href="http://#"></a>


				<div id="node-drawer">
					<ul></ul>
					<div id="add-node" title='Click to add a new Node or Drag to add several Nodes'><a href="#" onClick="Zeega.addNode();return false;"><img src="{{ asset('gamma/images/addnode.png') }}" height="25" width="25"/></a></div>
				</div>
				<div id="edit-drawer" class='clearfix'>
					
					
						
					<div id="sidebar" class='hidden clearfix' >
					
	
						<div id='layer-view-bar' class='clearfix editor-title-bar-expander rollover' style='cursor:pointer'
							data-original-title='Layers'
							data-content='This is where your media layers Appear. You can reorder and change their properties.'
						>
							<div class='bar-title'><span class='expander zicon grey zicon-collapse'></span>&nbsp;Layers</div>
						</div>
						
						<div id='layers'>
						
							<div id='new-layer' class='clearfix'>
								
								<ul>

									<li class='new-layer-icon' title='Click to add new Geo Layer' ><a href="#" onclick='addLayer("Geo");return false;'><img src="{{ asset('gamma/images/geo_layer.png') }}" height=20 width=20 /></a></li>
									
									<li class='new-layer-icon' title='Click to add new Text Layer' ><a href="#"onclick='addLayer("Text");return false;'><img src="{{ asset('gamma/images/text_layer.png') }}" height=20 width=20 /></a></li>
									
									
									<li class='new-layer-icon' title='Click to add new Rectangle Layer' ><a href="#"onclick='addLayer("Rectangle");return false;'><img src="{{ asset('gamma/images/rectangle-layer.png') }}" height=20 width=20 /></a></li>
									<!-- 
									<li class='new-layer-icon' ><a href="#"onclick='addLayer("Twilio");return false;'><img src="{{ asset('gamma/images/twilio_layer.png') }}" height=20 width=20 /></a></li>
									-->
								</ul>
							</div>
						
							<ul id="layers-list-visual">
								
								<div class="alert-message warning">
									<strong>Click icons above or drag items to the visual editor to create a layer.</strong>
								</div>
								
							</ul>

						</div> <!-- layers -->
						
						
						
						<div id='database-tray' class='clearfix'>
							
							<div id='item-view-bar' class='clearfix editor-title-bar-expander rollover' style='cursor:pointer'
								data-original-title='Items Database'
								data-content='This is where you can search items from your collections.'
							>
								<div class='bar-title'><span class='expander zicon grey zicon-collapse'></span>&nbsp;Items</div>
								
								<div id="searchbar">
									<input id='database-search-text' onKeyPress="return submitenter(this,event)" type='text' name='database-search' value='search database'/>
									<span id='search-filter' class='zicon zicon-search'></span>
								</div>
							
							</div>
							
							<div id='database'>
								<div id="db-nav-controls">
					
									<!--
									<a href='#' id='refresh-database'><span class='zicon orange zicon-refresh'></span></a>
									-->
									
									<select id='database-search-filter' class=''>
									  <option value="all">All Formats</option>
									  <option value="image">Images</option>
									  <option value="video">Video</option>
									  <option value="audio">Audio</option>
									</select>
									
									<select id='database-collection-filter' class=''>
									  <option value="all">All Collections</option>
									</select>
									
									<a href='#' id='list-view'><span class='zicon orange zicon-list'></span></a>
									<a href='#' id='grid-view'><span class='zicon orange zicon-grid'></span></a>

								</div><!-- db-nav-controls -->
							
								<input id="collection-id" type="hidden" value="{{collection_id}}"/>
								<ul id='database-item-list' class='list-view'></ul>
							</div><!-- database -->
						
						</div><!-- database-tray -->
						
				
					</div> <!-- sidebar -->
					
					
					<div id='workspace-wrapper'>
						<div id='visual-editor-wrapper' class='wrapper clearfix' style='cursor:pointer'>
							
							<div id='visualeditor-view-bar' class='clearfix editor-title-bar-expander rollover' style='cursor:pointer'
								data-original-title='The Visual Editor Window'
								data-content='This is where you can drop and arrange visual media. You can click the bar to close or expand the workspace.'>
								
								<div class='bar-title'><span class='expander zicon grey zicon-collapse'></span>&nbsp;Visual Editor</div>
								<div id='visual-icon-tray' class='icon-tray'></div>
							</div>
							
							<div id='workspace-outer-wrapper' class='clearfix'>
								<div id="visual-editor-workspace" class='workspace clearfix'></div>
							</div>
							
						</div>
						
						<div id='interaction-editor-wrapper'>

							<div id='interaction-view-bar' class='clearfix editor-title-bar-expander' title='Click to close or expand the Items' style='cursor:pointer'>
								<div class='bar-title'><span class='expander zicon grey zicon-collapse'></span>&nbsp;Interactions</div>
								<div id='interaction-icon-tray' class='icon-tray'></div>
							</div>
							
							<div id='layers-list-interaction' class='workspace'></div>
				
							
							<div id="node-advance" class="i-layer layer-wrapper">
								<div class='i-layer-uber-bar clearfix' onclick="expandLayer(this);return false;">
									<div class='layer-icon'>
										<span class="asset-type-icon ui-icon ui-icon-pin-w"></span>
									</div>
									<div class='i-layer-title'></span>Advance</div>
								</div>
								<div class='layer-content clearfix'>
									<div id='controls'>
										<div id='advance-controls'>
											<input type="radio" value='0' id="playback" name="radio" checked="true" /><label for="playback"> After playback</label>
											<input type="radio" value ='-1' id="manual" name="radio" /><label for="manual"> Manually</label>
											<input type="radio" value='10' id="time" name="radio" /><label for="time"> After <input id='advance-time' class='span1' type='text' name='time' value='10' size='3'/> seconds</label>
										</div>
										<div id='node-advance-random'>
										<!--
											<input type="radio" value='right' id="right" name="radio" checked="true" /><label for="playback"> After playback</label>
											<input type="radio" value='left' id="left" name="radio" /><label for="playback"> After playback</label>
											<input type="radio" value='random' id="random" name="radio" /><label for="playback"> After playback</label>
										
											<input type='checkbox' value='random' id='random'><label for='random'> Randomize next node</label>
										-->
										</div>
									</div>
								</div>
							</div>
							
							
							
						</div>
					</div>
				</div>

			



{% endblock %}

{% block extras %}
	<div id='templates' class='hidden'>
		
		<div id="export" class='modal hidden' >
			<div class="modal-header">
				<a href='#' class='close'>x</a>
				<h3>Data Export</h3>
			</div>
			<div class="modal-body clearfix">
				<textarea id='export-json' rows="2" cols="20" readonly></textarea>
				<p>Copy and Paste the JSON into a text editor of your choice</p>
			</div>
			<div class="modal-footer">
				<span class='admin-submit'>
					<br />
					<a href='#' id='close-modal' class='btn secondary'>close</a>
				</span>
			</div>
		</div> <!-- modal -->
		
		<div id="share-project-modal" class='modal hidden' >
			<div class="modal-header">
				<a href='#' class='close'>x</a>
				<h3>Share Your Project</h3>
			</div>
			<div class="modal-body clearfix">
				<p>Share your project: <b>{{projecttitle}}</b></p>
				<a href='{{hostname}}{{directory}}project/{{route.id}}/view' id='project-link' target='blank'>{{hostname}}{{directory}}project/{{route.id}}/view</a>
			</div>
			<div class="modal-footer">
				<span class='admin-submit'>
					<br />
					<a href='#' id='close-modal' class='btn secondary close-modal'>close</a>
				</span>
			</div>
		</div> <!-- modal -->
		
		<div id="node-item-template" class="">
			<div class='node-overlay'>
				<div class='node-update-overlay'></div>
			</div>
			<div class='node-background'></div>
			<a href='#' class='delete-node hidden'>&times;</a>
		</div>
	</div>
{% endblock %}

{% block scripts %}


			<script type="text/javascript" language="Javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
				<script src="http://s3.documentcloud.org/viewer/loader.js"></script>
			
			<script src="{{ asset('gamma/js/aloha-config.js') }}" language="javascript"></script>
			<script src="{{ asset('gamma/js/libraries/aloha-rc9/lib/aloha.js') }}" data-aloha-plugins="common/format,common/highlighteditables"></script>

			<script src="{{ asset('gamma/js/main.editor.js') }}"></script>

			<script type="text/javascript" src="http://maps.googleapis.com/maps/api/js?sensor=false"></script>
			
			<script type="text/javascript" language="Javascript">
				//bootstrapping data
				var itemsJSON = "{{results|e('js')}}";
			</script>
			
{% endblock %}